# ----------------------------------------------------------------------
# ~/.config/zsh/zshrc (SHARED - Zinit, Plugins, Portable Paths)
# ----------------------------------------------------------------------

# 1. PATH & å·¥å…·åˆå§‹åŒ–
[[ -r "$HOME/.config/zsh/paths.zsh" ]] && source "$HOME/.config/zsh/paths.zsh"

# 1.1. æœºå™¨ç‰¹å®šçš„è·¯å¾„é…ç½® (åœ¨é€šç”¨é…ç½®ä¹‹ååŠ è½½ï¼Œå¯ä»¥è¦†ç›–)
HOST_LOCAL_FILE="$HOME/.config/zsh/$(hostname).local.zsh"
if [ -f "$HOST_LOCAL_FILE" ]; then
    source "$HOST_LOCAL_FILE"
fi

# 1.2. é€šç”¨åˆ«åé…ç½®
[[ -r "$HOME/.config/zsh/aliases.zsh" ]] && source "$HOME/.config/zsh/aliases.zsh"

# 1.3. æœºå™¨ç‰¹å®šçš„åˆ«åé…ç½®
HOST_LOCAL_ALIASES="$HOME/.config/zsh/$(hostname).local.aliases.zsh"
if [ -f "$HOST_LOCAL_ALIASES" ]; then
    source "$HOST_LOCAL_ALIASES"
fi

# 2. Zinit æœ¬ä½“
if [[ -r "$HOME/.config/zsh/zinit.zsh" ]]; then
  source "$HOME/.config/zsh/zinit.zsh"
fi

# 3. å¿«æ·é”®
[[ -r "$HOME/.config/zsh/keybindings.zsh" ]] && source "$HOME/.config/zsh/keybindings.zsh"


# 4. è‡ªå®šä¹‰å‡½æ•°
[[ -r "$HOME/.config/zsh/functions.zsh" ]] && source "$HOME/.config/zsh/functions.zsh"


# 5. ğŸš¨ åŠ¨æ€åŠ è½½ï¼šå…¶ä»–æœºå™¨ç‰¹å®šé…ç½® (å¦‚æœæœ‰çš„è¯)
# --- å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å…¶ä»–ä¸»æœºç‰¹å®šçš„é…ç½®æ–‡ä»¶ ---

# 6. ç§å¯†é…ç½®ï¼ˆsecrets.sh ç”±ä½ çš„åŠ å¯†è„šæœ¬ç”Ÿæˆï¼‰
SECRETS_FILE="$HOME/.config/zsh/secrets.sh"
[[ -f "$SECRETS_FILE" ]] && source "$SECRETS_FILE"




# æ£€æŸ¥æ˜¯å¦åœ¨ Zellij å†…éƒ¨ï¼Œå¹¶ä¸” Zsh æ²¡æœ‰è¢«è¯†åˆ«ä¸ºäº¤äº’å¼
if [[ -n "$ZELLIJ" ]] && [[ ! -o interactive ]]; then
    # é‡æ–°æ‰§è¡Œ Zshï¼Œå¸¦ä¸Šäº¤äº’å¼æ ‡å¿—
    exec zsh -i
fi
